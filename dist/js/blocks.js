!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){e.exports=lodash},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var c in r)n.call(r,c)&&r[c]&&e.push(c)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){var n=(wp.blockEditor||wp.editor).InspectorAdvancedControls,r=wp.blocks.hasBlockSupport,o=wp.components.TextControl,i=wp.compose.createHigherOrderComponent,a=wp.element.Fragment,c=wp.hooks,l=c.addFilter,u=c.removeFilter,s=wp.i18n.__;u("editor.BlockEdit","core/editor/custom-class-name/with-inspector-control"),l("editor.BlockEdit","".concat("selz","/with-inspector-controls"),i((function(e){return function(t){var i=t.attributes.className,c=t.isSelected,l=t.name,u=t.setAttributes,f=r(l,"customClassName",!0),p=l.startsWith("selz");return f&&c&&!p?wp.element.createElement(a,null,wp.element.createElement(e,t),wp.element.createElement(n,null,wp.element.createElement(o,{label:s("Additional CSS Class"),value:i||"",onChange:function(e){return u({className:e})}}))):wp.element.createElement(e,t)}}),"withInspectorControls"))},,,function(e,t,n){"use strict";n.r(t);var r=window["".concat("selz","_globals")].colors,o=wp.i18n,i=o.__,a=o.sprintf,c=[{label:i("Add to cart"),value:"add-to-cart"},{label:i("Buy"),value:"buy",text:i("Buy it now")},{label:i("View"),value:"view",text:i("Buy it now")}],l={izettle:{button:i("iZettle Button"),connectAccount:a(i("Connect your %s account"),"iZettle"),connectAccountNotice:a(i("%s blocks require a connection to your account."),"iZettle Ecommerce"),store:i("iZettle Store"),widget:i("iZettle Widget")},selz:{button:i("Selz Button"),connectAccount:a(i("Connect your %s account"),"Selz"),connectAccountNotice:a(i("%s blocks require a connection to your account."),"Selz Ecommerce"),store:i("Selz Store"),widget:i("Selz Widget")}};n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=window["".concat("selz","_globals")],y=m.embed,b=m.env,g=(wp.blockEditor||wp.editor).BlockIcon,v=wp.blocks.getBlockType,w=wp.components.Placeholder,O=wp.element,E=O.Component,C=O.Fragment,k=wp.i18n.__,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,n,r,o=p(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={didRender:!1},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.clientId,n=e.openGeneralSidebar;t||this.forceUpdate(),n("edit-post/block")}},{key:"getEmbedProps",value:function(){var e=this.props,t=e.attributes,n=e.deprecated,r=t.action,o=t.buttonBackgroundColor,i=t.buttonTextColor,a=t.category,c=t.checkoutBackgroundColor,l=t.checkoutTextColor,u=t.description,s=t.linksColor,f=t.logos,p=t.modal,d=t.showCategories,h=t.showPagination,m=t.showSearch,y=t.squareImages,g=t.text,v=t.truncateTitles,w=t.width,O=t.url,E={action:r,category:a,colors:{buttons:{background:o,text:i},checkout:{background:c,text:l},links:s},description:u,logos:f,modal:p,showCategories:d,showPagination:h,showSearch:m,squareImages:y,style:this.getEmbedStyle(),text:g,truncateTitles:v,url:O,width:w};return n&&delete E.category,b&&(E.env=b),JSON.stringify(E)}},{key:"getEmbedStyle",value:function(){var e=this.props.className.split(" ");return e[1]?e[1].replace("is-style-",""):"price-right"}},{key:"render",value:function(){this.state.didRender||this.setState({didRender:!0});var e=this.props,t=e.attributes,n=t.text,r=t.type,o=t.url,i=e.className,a=e.clientId,c=e.deprecated,l=e.isPreview,u=e.name;if(!o&&!a)return wp.element.createElement(w,null);if(!o){var s=v(u),f=s.icon.src,p=s.title;return wp.element.createElement(w,{icon:wp.element.createElement(g,{icon:f}),label:p},k("Hold tight while we load your products â€¦"))}var d=this.getEmbedProps();return wp.element.createElement(C,null,wp.element.createElement("div",{"data-embed":r,className:!c&&i,key:a&&this.state.didRender?d:Math.random()},wp.element.createElement("script",{type:"text/props"},d)),!l&&wp.element.createElement(C,null,wp.element.createElement("script",{async:!0,src:y}),wp.element.createElement("noscript",null,wp.element.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},"store"===r?k("Shop now"):n))))}}])&&s(t.prototype,n),r&&s(t,r),i}(E),S=c[0],P=S.label,x=S.text,_=S.value,A=x||P,T=r.primary,R=r.white,z={_text:{type:"string",default:A},_width:{type:"number",default:320},action:{type:"string",default:_},autoWidth:{type:"boolean",default:!0},buttonBackgroundColor:{type:"string",default:T},buttonTextColor:{type:"string",default:R},checkoutBackgroundColor:{type:"string",default:T},checkoutTextColor:{type:"string",default:R},currentPage:{type:"number"},error:{type:"object"},fluidWidth:{type:"boolean",default:!1},hasMore:{type:"boolean"},isLoading:{type:"boolean",default:!0},logos:{type:"boolean",default:!1},modal:{type:"boolean",default:!0},pages:{type:"object"},products:{type:"array"},query:{type:"string",default:""},request:{type:"object"},showCart:{type:"boolean",default:!1},text:{type:"string",default:A},textWasSet:{type:"boolean",default:!1},type:{type:"string",default:"button"},url:{type:"string"},useDefaultText:{type:"boolean",default:!1},width:{type:"string"}},D=n(0);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=wp.components,G=W.PanelBody,M=W.SelectControl,U=W.TextControl,V=W.ToggleControl,H=wp.element.Component,J=wp.i18n.__,K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(i,e);var t,n,r,o=N(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).debouncedSetText=Object(D.debounce)(t.setText,500),t}return t=i,(n=[{key:"getActionText",value:function(e){var t=c.find((function(t){return t.value===e})),n=t.label;return t.text||n}},{key:"handleActionChange",value:function(e){var t=this.props,n=t.attributes,r=n.textWasSet,o=n.useDefaultText,i=t.setAttributes,a=this.getActionText(e),c={action:e};!1===r&&(c._text=a),(!1===r||o)&&(c.text=a),i(c)}},{key:"handleTextChange",value:function(e){this.props.setAttributes({_text:e,textWasSet:!0}),this.debouncedSetText(e)}},{key:"setText",value:function(e){this.props.setAttributes({text:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.attributes,r=n._text,o=n.action,i=n.modal,a=n.useDefaultText,l=t.setAttributes;return wp.element.createElement(G,{title:J("Behavior"),initialOpen:!1},wp.element.createElement(M,{label:J("Action"),value:o,options:c,onChange:function(t){return e.handleActionChange(t)}}),wp.element.createElement(M,{label:J("Window Type"),value:i,options:[{label:J("Overlay"),value:!0},{label:J("New Tab"),value:!1}],onChange:function(e){return l({modal:"true"===e})}}),wp.element.createElement(U,{label:J("Text"),value:r,onChange:function(t){return e.handleTextChange(t)},disabled:a}),wp.element.createElement(V,{label:J("Use Default Text"),checked:a,onChange:function(){return l({useDefaultText:!a,text:a?r:e.getActionText(o)})}}))}}])&&q(t.prototype,n),r&&q(t,r),i}(H),Q=wp.blockEditor||wp.editor,Z=Q.ContrastChecker,$=Q.PanelColorSettings,X=wp.i18n.__,Y=function(e){var t=e.attributes,n=e.setAttributes,r=t.buttonBackgroundColor,o=t.buttonTextColor;return wp.element.createElement($,{title:X("Button Colors"),initialOpen:!1,colorSettings:[{value:r,onChange:function(e){return n({buttonBackgroundColor:e})},label:X("Background Color")},{value:o,onChange:function(e){return n({buttonTextColor:e})},label:X("Text Color")}]},wp.element.createElement(Z,{backgroundColor:r,textColor:o}))},ee=wp.blockEditor||wp.editor,te=ee.ContrastChecker,ne=ee.PanelColorSettings,re=wp.i18n.__,oe=function(e){var t=e.attributes,n=e.setAttributes,r=t.checkoutBackgroundColor,o=t.checkoutTextColor;return wp.element.createElement(ne,{title:re("Checkout Colors"),initialOpen:!1,colorSettings:[{value:r,onChange:function(e){return n({checkoutBackgroundColor:e})},label:re("Background Color")},{value:o,onChange:function(e){return n({checkoutTextColor:e})},label:re("Text Color")}]},wp.element.createElement(te,{backgroundColor:r,textColor:o}))},ie=wp.components.ToggleControl,ae=wp.i18n.__,ce=function(e){var t=e.attributes,n=e.setAttributes,r=t.showCart;return wp.element.createElement(ie,{label:ae("Show Cart"),help:ae("Preview your shopping cart."),checked:r,onChange:function(){n({showCart:!r}),document.body.classList.toggle("cart-visible")}})},le=wp.components,ue=le.PanelBody,se=le.ToggleControl,fe=wp.i18n.__,pe=function(e){var t=e.attributes,n=e.setAttributes,r=t.description,o=t.logos,i=t.type;return wp.element.createElement(ue,{title:fe("Display"),initialOpen:!1},"widget"===i&&wp.element.createElement(se,{label:fe("Show Description"),checked:r,onChange:function(){return n({description:!r})}}),wp.element.createElement(se,{label:fe("Show Payment Logos"),checked:o,onChange:function(){return n({logos:!o})}}),wp.element.createElement(ce,{attributes:t,setAttributes:n}))},de=n(1),he=n.n(de);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=wp.components,Ee=Oe.G,Ce=Oe.Path,ke=Oe.SVG,je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(i,e);var t,n,r,o=ge(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={className:"is-loading"},t}return t=i,(n=[{key:"setClassName",value:function(e){var t=e.target,n=t.naturalWidth,r=t.naturalHeight;n>r?this.setState({className:"is-landscape"}):r>n?this.setState({className:"is-portrait"}):r===n?this.setState({className:"is-square"}):this.setState({className:""})}},{key:"render",value:function(){var e=this,t=this.props.src;return wp.element.createElement("span",{className:"product-image media-placeholder media-ratio-1-1",role:"presentation"},t?wp.element.createElement("img",{className:this.state.className,src:t,alt:"",onLoad:function(t){return e.setClassName(t)},onError:function(t){return e.setClassName(t)}}):wp.element.createElement(ke,{viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(Ee,{fill:"none"},wp.element.createElement(Ce,{fill:"#DBE3E8",d:"M0 0h64v64H0z"}),wp.element.createElement(Ce,{fill:"#FFF",d:"M47.84 34.293L29.707 16.16a.484.484 0 0 0-.374-.16h-12.8c-.32 0-.533.213-.533.533v12.8c0 .16.053.267.16.374L34.293 47.84c.107.107.267.16.374.16a.576.576 0 0 0 .373-.16l12.8-12.8a.516.516 0 0 0 0-.747zM24 26.133A2.14 2.14 0 0 1 21.867 24 2.14 2.14 0 0 1 24 21.867 2.14 2.14 0 0 1 26.133 24 2.14 2.14 0 0 1 24 26.133z"}))))}}])&&ye(t.prototype,n),r&&ye(t,r),i}(wp.element.Component),Se=wp.components.BaseControl;var Pe=(0,wp.compose.withInstanceId)((function(e){var t=e.label,n=e.className,r=e.selected,o=e.help,i=e.instanceId,a=e.onChange,c=e.options,l=void 0===c?[]:c,u="inspector-radio-control-".concat(i),s=function(e){return a(e.target.value)};return!Object(D.isEmpty)(l)&&wp.element.createElement(Se,{label:t,id:u,help:o,className:he()(n,"components-radio-control")},l.map((function(e,t){return wp.element.createElement("div",{key:"".concat(u,"-").concat(t),className:"components-radio-control__option has-image"},wp.element.createElement("input",{id:"".concat(u,"-").concat(t),className:"components-radio-control__input",type:"radio",name:u,value:e.value,onChange:s,checked:e.value===r,"aria-describedby":o?"".concat(u,"__help"):void 0}),wp.element.createElement("label",{htmlFor:"".concat(u,"-").concat(t)},wp.element.createElement(je,{src:e.image})," ",e.label))})))})),xe=function(e){var t=e.ariaLabel,n=e.children;return wp.element.createElement("div",{className:"components-scroll",tabIndex:"0",role:"group","aria-label":t},n)},_e=wp.components,Ae=_e.Button,Te=_e.Notice,Re=_e.Spinner,ze=wp.element.Fragment,De=wp.i18n.__,Be=function(e){var t=e.attributes,n=e.next,r=e.previous,o=e.setAttributes,i=t.currentPage,a=t.error,c=t.hasMore,l=t.isLoading,u=t.products,s=t.request,f=t.url;return a?wp.element.createElement(Te,{status:"error",isDismissible:!1},De("Failed to load products. Please try again.")):l?wp.element.createElement("div",{style:{textAlign:"center"}},wp.element.createElement(Re,null)):u&&u.length?wp.element.createElement(ze,null,wp.element.createElement(xe,{ariaLabel:De("Products")},wp.element.createElement(Pe,{selected:f,options:u.map((function(e){var t=e.title,n=e.short_url,r=e.featured_image;return{label:t,value:n,image:r&&r.small}})),onChange:function(e){return o({url:e})}})),(1!==i||c)&&wp.element.createElement("div",{className:"components-pager"},wp.element.createElement(Ae,{isLink:!0,onClick:r,disabled:1===i},De("Prev")),wp.element.createElement(Ae,{isLink:!0,onClick:n,disabled:!c},De("Next")))):wp.element.createElement(Te,{status:"info",isDismissible:!1},s.data.q?De("No matches found"):De("No products found"))};function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He=wp.components,Je=He.PanelBody,Ke=He.TextControl,Qe=wp.element.Component,Ze=wp.i18n.__,$e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(i,e);var t,n,r,o=Me(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).debouncedSearchProducts=Object(D.debounce)(t.searchProducts,500),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.fetchProducts(this.props.attributes.currentPage)}},{key:"componentWillUnmount",value:function(){this.debouncedSearchProducts.cancel()}},{key:"fetchProducts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.props,r=n.attributes,o=r.pages,i=r.url,a=n.setAttributes,c=this.getRequest(t);a({request:c}),fetch(c.url).then((function(e){return e.json()})).then((function(n){var r=n.data,l=n.has_more;if(e.props.attributes.request.timestamp===c.timestamp){var u=r.filter((function(e){return e.short_url})),s={isLoading:!1,products:u,hasMore:l};u&&u.length&&(s.url=i||u[0].short_url,s.pages=Fe(Fe({},o),{},Le({},t,{number:t,start:u[0].id,end:u[u.length-1].id})),s.currentPage=t),a(s)}}),(function(e){return a({isLoading:!1,error:e})}))}},{key:"getRequest",value:function(e){var t=this.props.attributes,n=t.pages,r=t.query,o={action:"".concat("selz","_").concat(r?"search":"get","_products"),starting_after:1!==e?n[e-1].end:null,page:e,q:r};return{data:o,url:this.getUrl(o),timestamp:Date.now()}}},{key:"getUrl",value:function(e){var t=window.ajaxurl;return Object.keys(e).reduce((function(n,r){return e[r]?"".concat(n).concat(n===t?"?":"&").concat(r,"=").concat(e[r]):n}),t)}},{key:"handleQueryChange",value:function(e){this.props.setAttributes({query:e,error:null}),this.debouncedSearchProducts()}},{key:"next",value:function(){this.searchProducts(this.props.attributes.currentPage+1)}},{key:"previous",value:function(){this.searchProducts(this.props.attributes.currentPage-1)}},{key:"searchProducts",value:function(e){this.props.setAttributes({isLoading:!0}),this.fetchProducts(e)}},{key:"render",value:function(){var e=this,t=this.props;return wp.element.createElement(Je,{title:Ze("Product")},wp.element.createElement(Ke,{label:Ze("Search Products"),type:"search",value:t.attributes.query,className:"is-filter",onChange:function(t){return e.handleQueryChange(t)}}),wp.element.createElement(Be,Ie({},t,{next:function(){return e.next()},previous:function(){return e.previous()}})))}}])&&We(t.prototype,n),r&&We(t,r),i}(Qe);function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rt(e);if(t){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ot=wp.components,it=ot.PanelBody,at=ot.RangeControl,ct=ot.ToggleControl,lt=wp.element.Component,ut=wp.i18n.__,st=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(i,e);var t,n,r,o=tt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).debouncedSetWidth=Object(D.debounce)(t.setWidth,200),t}return t=i,(n=[{key:"handleWidthChange",value:function(e){this.props.setAttributes({_width:e}),this.debouncedSetWidth(e)}},{key:"setWidth",value:function(e){this.props.setAttributes({width:String(e)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.attributes,r=n._width,o=n.autoWidth,i=n.fluidWidth,a=n.type,c=t.setAttributes;return wp.element.createElement(it,{title:ut("Width"),initialOpen:!1},"button"===a&&wp.element.createElement(ct,{label:ut("Automatic"),checked:o,onChange:function(){return c({autoWidth:!o,width:o?r:null})}}),!o&&wp.element.createElement(ct,{label:ut("Fluid (100%)"),checked:i,onChange:function(){return c({fluidWidth:!i,width:i?r:"100%"})}}),!o&&!i&&wp.element.createElement(at,{value:r,onChange:function(t){return e.handleWidthChange(t)},min:160,max:1e3,step:5}))}}])&&Ye(t.prototype,n),r&&Ye(t,r),i}(lt);function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var dt=(wp.blockEditor||wp.editor).InspectorControls,ht=wp.data.withDispatch,mt=wp.element.Fragment;var yt=ht((function(e){return{openGeneralSidebar:e("core/edit-post").openGeneralSidebar}}))((function(e){var t=e.openGeneralSidebar,n=pt(e,["openGeneralSidebar"]);return wp.element.createElement(mt,null,wp.element.createElement(j,ft({},n,{openGeneralSidebar:t,isPreview:!0})),wp.element.createElement(dt,null,wp.element.createElement($e,n),wp.element.createElement(K,n),wp.element.createElement(st,n),wp.element.createElement(pe,n),wp.element.createElement(Y,n),wp.element.createElement(oe,n)))}));function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Et=wp.components,Ct=Et.G,kt=Et.Rect,jt=Et.SVG,St=wp.blocks,Pt=St.createBlock,xt=St.getBlockAttributes,_t=wp.i18n.__,At={name:"".concat("selz","/button"),settings:{title:l.selz.button,description:_t("Prompt visitors to add to cart, buy now or view a store item."),category:"".concat("selz","-ecommerce"),icon:wp.element.createElement(jt,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(Ct,{fill:"none",transform:"translate(2 6)"},wp.element.createElement(kt,{width:"20",height:"11",fill:r.primary,rx:"2"}),wp.element.createElement(kt,{width:"7",height:"3",x:"3",y:"4",fill:"#FFF",rx:"1.5"}),wp.element.createElement(kt,{width:"5",height:"3",x:"12",y:"4",fill:"#FFF",rx:"1.5"}))),styles:[{name:"price-right",label:_t("Default"),isDefault:!0},{name:"price-left",label:_t("Price Left")},{name:"price-above",label:_t("Price Above")},{name:"price-below",label:_t("Price Below")}],attributes:z,transforms:{to:[{type:"block",blocks:["".concat("selz","/widget")],transform:function(e){e.autoWidth;var t=Ot(e,["autoWidth"]),n=xt("".concat("selz","/widget")),r=n.description,o=n.type,i=n.width;return Pt("".concat("selz","/widget"),vt(vt({},t),{},{description:r,type:o,width:i}))}}]},edit:yt,save:function(e){return wp.element.createElement(j,e)},deprecated:[{attributes:z,save:function(e){return wp.element.createElement(j,bt({},e,{deprecated:!0}))}}]}},Tt=c[0],Rt=Tt.label,zt=Tt.text,Dt=Tt.value,Bt=zt||Rt,qt=r.primary,It=r.white,Nt={_text:{type:"string",default:Bt},action:{type:"string",default:Dt},buttonBackgroundColor:{type:"string",default:qt},buttonTextColor:{type:"string",default:It},categories:{type:"array"},category:{type:"string",default:""},checkoutBackgroundColor:{type:"string",default:qt},checkoutTextColor:{type:"string",default:It},error:{type:"object"},isLoading:{type:"boolean",default:!0},linksColor:{type:"string",default:qt},modal:{type:"boolean",default:!0},query:{type:"string",default:""},showCart:{type:"boolean",default:!1},showCategories:{type:"boolean",default:!0},showPagination:{type:"boolean",default:!0},showSearch:{type:"boolean",default:!0},squareImages:{type:"boolean",default:!0},text:{type:"string",default:Bt},textWasSet:{type:"boolean",default:!1},truncateTitles:{type:"boolean",default:!0},type:{type:"string",default:"store"},url:{type:"string",default:"http://".concat(window["".concat("selz","_globals")].store.name)},useDefaultText:{type:"boolean",default:!1}};function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t,n){return t&&Wt(e.prototype,t),n&&Wt(e,n),e}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Jt=function(e){return null!=e?e.constructor:null},Kt=function(e,t){return!!(e&&t&&e instanceof t)},Qt=function(e){return Array.isArray(e)},Zt=function(e){return Jt(e)===Object},$t=function(e){return Jt(e)===String},Xt=function(e){return null==e},Yt=function(e){return Xt(e)||($t(e)||Qt(e))&&!e.length||Zt(e)&&!Object.keys(e).length},en=Qt,tn=Zt,nn=function(e){return Jt(e)===Number&&!Number.isNaN(e)},rn=$t,on=function(e){return $t(e)&&/^[a-f\d]{24}$/i.test(e)},an=function(e){return $t(e)&&/^[A-z]{3}$/.test(e)},cn=function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if(Kt(e,window.URL))return!0;var n=e;t||/^https?:\/\/*/.test(e)||(n="http://".concat(e));try{return!Yt(new URL(n).hostname)}catch(e){return!1}},ln=Yt,un=function e(t){Lt(this,e),Object.assign(this,t)},sn=function e(t){Lt(this,e),Object.assign(this,t)},fn=function e(t){Lt(this,e),Object.assign(this,t),this.cover=new sn(t.cover)},pn=function e(t){Lt(this,e),Object.assign(this,t)},dn=function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";Lt(this,e),Object.assign(this,t),this.selected=t.id===n},hn=function e(t,n){Lt(this,e),this.id=t,this.label=n},mn=function e(t){Lt(this,e),Object.assign(this,t),this.options=Object.keys(t.options).map((function(e){return new hn(e,t.options[e])}))},yn=null,bn=function(){function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";if(Lt(this,e),tn(n)){if(yn=t,Object.assign(this,n),this.store=yn.store,tn(n.urls)&&(this.urls=new pn(n.urls)),tn(n.media)&&(this.media=new fn(n.media)),en(n.images)&&(this.images=n.images.map((function(e){return new sn(e)}))),en(n.files)&&(this.files=n.files.map((function(e){return new un(e)}))),n.hasVariants){var o=ln(r)?n.variants[0].id:r;this.variants=n.variants.map((function(e){return new dn(e,o)}))}n.hasVariantAttributes&&(this.variantAttributes=n.variantAttributes.map((function(e){return new mn(e)})))}}return Gt(e,[{key:"selectedVariant",get:function(){return ln(this.variants)?null:this.variants.find((function(e){return e.selected}))}}]),e}(),gn=function e(t,n,r){Lt(this,e),this.cartId=r,Object.assign(this,n),this.product=new bn(t,n.product,n.variantId)},vn=null,wn=function(){function e(t,n){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];Lt(this,e),null===n||(vn=t,Object.assign(this,n),this.store=vn.store,this.active=r,this.items=Array.from(n.items).map((function(e){return new gn(vn,e,n.id)})))}return Gt(e,[{key:"add",value:function(e){return vn.addToCart(this.id,e)}},{key:"remove",value:function(e){return vn.removeFromCart(this.id,e)}}]),e}(),On=function e(t){Lt(this,e),this.productId=null,this.variantId=null,this.quantity=1,this.discountCode=null,this.buyersUnitPrice=null,(function(e){return!ln(e)&&e instanceof bn}(t)||tn(t))&&(this.productId=t.id,this.variantId=on(t.variant)?t.variant:null)},En=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Lt(this,e),tn(t)&&Object.assign(this,t)},Cn=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;Lt(this,e),tn(t)&&Object.assign(this,t)},kn=function(e){return"https://".concat(ln(e)||["selz.com","app.selz.com"].includes(e)?"app.selz.com/sdk":"".concat(e,"/sdk"),"/")},jn={product:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return"".concat(kn(e),"products/find?url=").concat(t)},products:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1;return"".concat(kn(e),"products/all/").concat(t,"?q=").concat(n,"&c=").concat(r,"&p=").concat(o)},categories:function(e,t){return"".concat(kn(e),"categories/").concat(t)},store:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return nn(t)?"".concat(kn(e),"store/find/").concat(t):"".concat(kn(e),"store/find?url=").concat(t)},buy:function(e){return"".concat(kn(e),"cart/buy")},createCart:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return"".concat(kn(e),"cart/create/").concat(t)},getCart:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return"".concat(kn(e),"cart/").concat(t)},checkCarts:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return"".concat(kn(e),"cart/verify?ids=").concat(t)},addToCart:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return"".concat(kn(e),"cart/add/").concat(t)},updateCartItemQuantity:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return"".concat(kn(e),"cart/updateitemquantity/").concat(t)},removeFromCart:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return"".concat(kn(e),"cart/remove/").concat(t)}},Sn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var Pn=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t,n,r,o,i,a,c,l,u,s,f,p,d,h,m;t=Sn,n=function(e,t,r){if(!l(t)||s(t)||f(t)||p(t)||c(t))return t;var o,i=0,a=0;if(u(t))for(o=[],a=t.length;i<a;i++)o.push(n(e,t[i],r));else for(var d in o={},t)Object.prototype.hasOwnProperty.call(t,d)&&(o[e(d,r)]=n(e,t[d],r));return o},r=function(e){return d(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1)},o=function(e){var t=r(e);return t.substr(0,1).toUpperCase()+t.substr(1)},i=function(e,t){return function(e,t){var n=(t=t||{}).separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(n)}(e,t).toLowerCase()},a=Object.prototype.toString,c=function(e){return"function"==typeof e},l=function(e){return e===Object(e)},u=function(e){return"[object Array]"==a.call(e)},s=function(e){return"[object Date]"==a.call(e)},f=function(e){return"[object RegExp]"==a.call(e)},p=function(e){return"[object Boolean]"==a.call(e)},d=function(e){return(e-=0)==e},h=function(e,t){var n=t&&"process"in t?t.process:t;return"function"==typeof n?function(t,r){return n(t,e,r)}:e},m={camelize:r,decamelize:i,pascalize:o,depascalize:i,camelizeKeys:function(e,t){return n(h(r,t),e)},decamelizeKeys:function(e,t){return n(h(i,t),e,t)},pascalizeKeys:function(e,t){return n(h(o,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}},e.exports?e.exports=m:t.humps=m}));function xn(e){return JSON.parse(JSON.stringify(e))}function _n(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var o=n.shift();return tn(o)?(Object.keys(o).forEach((function(t){tn(o[t])?(!Object.keys(e).includes(t)&&Object.assign(e,Mt({},t,{})),_n(e[t],o[t])):Object.assign(e,Mt({},t,o[t]))})),_n.apply(void 0,[e].concat(n))):e}function An(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,n){try{t(JSON.parse(e))}catch(e){n(e)}}))}function Tn(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString())}function Rn(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}function zn(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toString();return e=Tn(e,"-"," "),e=Tn(e,"_"," "),Tn(e=Rn(e)," ","")}var Dn=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,r=2<arguments.length?arguments[2]:void 0,o=n||new FormData,i=null;try{i=xn(t)}catch(e){return o}return tn(i)?(Object.keys(i).forEach((function(n){e=r?"".concat(r,"[").concat(n,"]"):n,"object"!==Ft(t[n])||t[n]instanceof File?o.append(zn(e),t[n]):Dn(t[n],o,n)})),o):o},Bn={type:"GET",body:{},responseType:"json"};function qn(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=_n({},Bn,t),r=n.type,o=n.body,i=n.responseType;return new Promise((function(t,n){try{var a=new XMLHttpRequest;if(!("withCredentials"in a)){var c=new Error("No CORS support");throw c.request=a,c}var l=function(){var e=new Error(a.status);e.request=a,n(e)};a.addEventListener("load",(function(){var e=a.response;return 400<=a.status?void l():void("json"===i?An(e).then((function(e){if(e.success){var r=Pn.camelizeKeys(e.data);t(r)}else{var o=new Error("Request failed");o.errors=e.errors,n(o)}})).catch(n):t(e))})),a.addEventListener("error",l),a.open(r,e,!0),"json"!==i&&(a.responseType=i),a.send(Dn(o))}catch(e){n(e)}}))}var In={},Nn=function(e){if(!Object.keys(In).includes(e)){In[e]=qn(e);var t=function(){delete In[e]};In[e].then(t).catch(t)}return In[e]},Fn=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return qn(e,{type:"POST",body:t})};function Ln(e){return en(e)?e.filter((function(t,n){return e.indexOf(t)===n})):e}var Wn=new Map,Gn=function(e){if(null===e)return null;var t=function(e){var t=e;/^https?:\/\/*/.test(e)||(t="http://".concat(e));try{return new URL(t)}catch(e){return null}}(e);return null===t?null:"".concat(t.host).concat(t.pathname).replace(/\/$/,"")},Mn=function(){function e(t){Lt(this,e),this.config=Vt({keys:{root:"selz-js-sdk",carts:"carts",stores:"stores"},ttl:3600,schema:new Date("2018-07-02").getTime()},t),this.purge()}return Gt(e,[{key:"get",value:function(t){var n=Wn.get(this.config.keys.root);if(e.supported){var r=window.localStorage.getItem(this.config.keys.root);ln(r)||(n=JSON.parse(r))}return ln(n)?null:ln(t)?n:Object.keys(n).includes(t)?n[t]:null}},{key:"set",value:function(t,n){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],o=this.get()||{};if(o[t]=r&&Object.keys(o).includes(t)?_n(o[t],n):n,Wn.set(this.config.keys.root,o),e.supported){o.schema=this.config.schema;try{window.localStorage.setItem(this.config.keys.root,JSON.stringify(o))}catch(e){}}}},{key:"purge",value:function(){var e=this.get();if(!ln(e)){if(+e.schema!==this.config.schema)return void window.localStorage.removeItem(this.config.keys.root);var t=this.get(this.config.keys.stores)||[];ln(t)||this.set(this.config.keys.stores,t.filter((function(e){var t=+e.ttl;return 0<t&&t>Date.now()})))}}},{key:"getCarts",value:function(e){var t=this.get(this.config.keys.carts)||{};return ln(t)?null:nn(e)?Object.keys(t).includes(e.toString())?t[e.toString()]:null:t}},{key:"getCart",value:function(e,t){var n=this.getCarts(e);return ln(n)?null:rn(t)?Object.keys(n).includes(t.toUpperCase())?n[t.toUpperCase()]:null:n}},{key:"setCart",value:function(e,t,n){this.set(this.config.keys.carts,Mt({},e,Mt({},t.toUpperCase(),{id:n.id,active:n.active})),!0)}},{key:"setCarts",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.set(this.config.keys.carts,Mt({},e,t))}},{key:"getStore",value:function(e){var t=null;if(!nn(e)&&!cn(e))return null;var n=this.get(this.config.keys.stores)||[];if(nn(e))t=n.find((function(t){return tn(t.data)&&t.data.id===e}));else if(cn(e)){var r=Gn(e);if(null===r)return null;t=n.find((function(e){return en(e.urls)&&e.urls.includes(r)}))}if(!tn(t))return null;var o=+t.ttl;return 0<o&&o<Date.now()?(this.purge(),null):new Cn(t.data)}},{key:"setStore",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=Gn(t),r=this.get(this.config.keys.stores)||[],o=null;ln(r)||(o=r.find((function(t){return t.data.id===e.id})));var i=Date.now()+this.config.ttl;if(tn(o)){if(Object.assign(o,{data:e,ttl:i}),null!==n){en(o.urls)?o.urls.push(n):o.urls=[n];var a=Ln(o.urls);Object.assign(o,{urls:a})}}else{var c={data:e,ttl:i};null!==n&&Object.assign(c,{urls:[n]}),r.push(c)}this.set(this.config.keys.stores,r)}}],[{key:"supported",get:function(){if(!window.localStorage)return!1;try{return window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0}catch(e){return!1}}}]),e}(),Un=function(){function e(t){Lt(this,e);var n=t.env,r=t.store,o=t.source;if(this.env=ln(n)?"":n,this.store=r,this.source=o,!cn(r)&&!nn(r))throw Error("A store ID or URL is required to create a client");this.storage=new Mn}return Gt(e,[{key:"getStoreId",value:function(){var e=this;return new Promise((function(t,n){return nn(e.store)?void t(e.store):e.store instanceof Cn?void t(e.store.id):(!cn(e.store)&&n(new Error("Url is required for user lookup")),void e.getStore().then((function(e){t(e.id)})).catch(n))}))}},{key:"getStore",value:function(){var e=this;return new Promise((function(t,n){if(nn(e.store)||cn(e.store)){var r=e.storage.getStore(e.store);if(null!==r&&r instanceof Cn)return void t(r)}if(e.store instanceof Cn)t(e.store);else{var o=jn.store(e.env,e.store);Nn(o).then((function(n){e.setStore(n),t(e.store)})).catch(n)}}))}},{key:"setStore",value:function(e){if(tn(e)){var t=cn(this.store)?this.store:null;this.store=new Cn(e),this.storage.setStore(this.store,t)}}},{key:"getProduct",value:function(e){var t=this;return new Promise((function(n,r){Nn(jn.product(t.env,e)).then((function(e){t.store instanceof Cn||t.setStore(e.store),n(new bn(t,e))})).catch(r)}))}},{key:"getProducts",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return new Promise((function(o,i){e.getStoreId().then((function(a){Nn(jn.products(e.env,a,ln(t)?"":t,rn(n)?n:"",!nn(r)||1>r?1:r)).then((function(t){o(Vt({},t,{products:t.products.map((function(t){return new bn(e,t)}))}))})).catch(i)})).catch(i)}))}},{key:"getCategories",value:function(){var e=this;return new Promise((function(t,n){e.getStoreId().then((function(r){Nn(jn.categories(e.env,r)).then((function(e){t(Vt({},e,{categories:e.categories.map((function(e){return new En(e)}))}))})).catch(n)})).catch(n)}))}},{key:"buy",value:function(e){var t=this;return new Promise((function(n,r){if(ln(e))r(new Error("A cart item is required"));else{var o=e;(tn(e)||e instanceof bn)&&(o=new On(e)),o instanceof On||r(new Error("A valid cart item is required")),Fn(jn.buy(t.env),o).then((function(e){var r=new wn(t,e,!0);t.setStore(r.store),n(r)})).catch(r)}}))}},{key:"createCart",value:function(e,t){var n=this;return new Promise((function(r,o){return ln(e)?void o(new Error("currency is required")):void n.getStoreId().then((function(i){var a=e.toUpperCase();Fn(jn.createCart(n.env,i),{currency:a,discount:ln(t)?null:t,source:n.source}).then((function(e){var t=new wn(n,e);n.storage.setCart(i,a,t),r(t)})).catch(o)})).catch(o)}))}},{key:"getCartId",value:function(e){var t=this;return new Promise((function(n,r){return an(e)?void t.getStoreId().then((function(o){var i=e.toUpperCase(),a=t.storage.getCart(o,i);ln(a)?t.createCart(i).then((function(e){return n(e.id)})).catch(r):n(a.id)})).catch(r):void r(new Error("A valid currency code is required"))}))}},{key:"getCart",value:function(e){var t=this;return new Promise((function(n,r){var o=an(e),i=on(e);if(o||i)if(o){var a=e.toUpperCase();t.getCartId(a).then((function(e){return ln(e)?void r(new Error("Could not find matching cart for currency code '".concat(a,"'"))):void t.getCart(e).then((function(e){t.setStore(e.store),n(e)})).catch(r)})).catch(r)}else Nn(jn.getCart(t.env,e)).then((function(e){var r=t.getActiveCart(),o=new wn(t,e,e.id===r);t.setStore(o.store),n(o)})).catch(r);else r(new Error("A valid currency code or cart id are required"))}))}},{key:"getCarts",value:function(){var e=this,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return new Promise((function(n,r){e.getStoreId().then((function(o){var i=e.storage.getCarts(o);if(ln(i))n(null);else if(t){var a=Object.keys(i).map((function(e){return i[e].id}));Nn(jn.checkCarts(e.env,a.join(","))).then((function(t){Object.entries(t).forEach((function(e){var t=Ht(e,2),n=t[0];if(!t[1]){var r=Object.keys(i).find((function(e){return i[e].id===n}));delete i[r]}})),e.storage.setCarts(o,i),Object.values(i).find((function(e){return e.active}))?n(i):e.setActiveCart().then(n).catch(r)})).catch(r)}else n(i)})).catch(r)}))}},{key:"setActiveCart",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(n,r){e.getStoreId().then((function(o){e.getCarts(!1).then((function(i){var a=i;if(ln(a))n(null);else{if(an(t)){var c=t.toUpperCase(),l=Object.keys(a);if(!l.includes(c))return void r(new Error("No carts for ".concat(c)));l.forEach((function(e){a[e].active=e===c}))}else{var u=on(t)?t:a[Object.keys(a)[0]].id;Object.keys(a).forEach((function(e){var t=a[e];t.active=t.id===u}))}e.storage.setCarts(o,a),n(a)}}))})).catch(r)}))}},{key:"getActiveCart",value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return new Promise((function(n,r){e.getStoreId().then((function(o){var i=e.storage.getCarts(o);if(Object.keys(i).length){var a=Object.values(i).find((function(e){return e.active}));return a?t?void e.getCart(a.id).then(n).catch(r):void n(a.id):void n(null)}n(null)})).catch(r)}))}},{key:"addToCart",value:function(e,t){var n=this;return new Promise((function(r,o){if(on(e))if(ln(t))o(new Error("A cart item is required"));else{var i=t;(tn(t)||t instanceof bn)&&(i=new On(t)),i instanceof On||o(new Error("A valid cart item is required")),Fn(jn.addToCart(n.env,e),i).then((function(e){var t=new wn(n,e,!0);n.setStore(t.store),n.setActiveCart(t.id).then((function(){r(t)})).catch(o)})).catch(o)}else o(new Error("A valid id is required"))}))}},{key:"updateCartItemQuantity",value:function(e,t){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return new Promise((function(o,i){return on(e)?ln(t)?void i(new Error("A valid index is required")):void Fn(jn.updateCartItemQuantity(n.env,e),{index:t,quantity:r}).then((function(e){var t=new wn(n,e,!0);n.setStore(t.store),n.setActiveCart(t.id).then((function(){o(t)})).catch(i)})).catch(i):void i(new Error("A valid id is required"))}))}},{key:"removeFromCart",value:function(e,t){var n=this;return new Promise((function(r,o){return on(e)?ln(t)?void o(new Error("A valid index is required")):void Fn(jn.removeFromCart(n.env,e),{index:t}).then((function(e){if(ln(e))n.getCarts().then((function(){return r(null)})).catch(o);else{var t=new wn(n,e,!0);n.setActiveCart(t.id).then((function(){r(t)})).catch(o)}})).catch(o):void o(new Error("A valid id is required"))}))}}]),e}(),Vn=wp.components,Hn=Vn.Notice,Jn=Vn.Spinner,Kn=wp.i18n.__,Qn=function(e){var t=e.attributes,n=e.setAttributes,r=t.categories,o=t.category,i=t.error,a=t.isLoading,c=t.query;return i?wp.element.createElement(Hn,{status:"error",isDismissible:!1},Kn("Failed to load categories. Please try again.")):a?wp.element.createElement("div",{style:{textAlign:"center"}},wp.element.createElement(Jn,null)):(c&&(r=r.filter((function(e){var t=e.title;return!c||t.toLowerCase().includes(c.toLowerCase())}))),r&&r.length?wp.element.createElement(xe,{ariaLabel:Kn("Categories")},wp.element.createElement(Pe,{selected:o,options:r.map((function(e){var t=e.title,n=e.id,r=e.image;return{label:t,value:n,image:r&&r.small}})),onChange:function(e){return n({category:e})}})):wp.element.createElement(Hn,{status:"info",isDismissible:!1},Kn(c?"No matches found":"No categories found")))};function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nr(e);if(t){var o=nr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tr(this,n)}}function tr(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var rr=wp.components,or=rr.PanelBody,ir=rr.TextControl,ar=wp.element.Component,cr=wp.i18n.__,lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yn(e,t)}(i,e);var t,n,r,o=er(i);function i(){return $n(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){var e=window["".concat("selz","_globals")],t=e.env,n=e.store.id;this.client=new Un({env:t,store:Number(n)}),this.fetchCategories()}},{key:"fetchCategories",value:function(){var e=this.props,t=e.attributes.category,n=e.setAttributes;this.client.getCategories().then((function(e){var r=e.categories.sort((function(e){return"all"===e.slug?-1:0}));r[0].id=t,n({isLoading:!1,categories:r,category:t||r&&r.length&&r[0].id})}),(function(e){return n({isLoading:!1,error:e})}))}},{key:"render",value:function(){var e=this.props,t=e.attributes.query,n=e.setAttributes;return wp.element.createElement(or,{title:cr("Category")},wp.element.createElement(ir,{label:cr("Search Categories"),type:"search",value:t,className:"is-filter",onChange:function(e){return n({query:e})}}),wp.element.createElement(Qn,e))}}])&&Xn(t.prototype,n),r&&Xn(t,r),i}(ar),ur=(wp.blockEditor||wp.editor).PanelColorSettings,sr=wp.i18n.__,fr=function(e){var t=e.attributes,n=e.setAttributes,r=t.linksColor;return wp.element.createElement(ur,{title:sr("Links Color"),initialOpen:!1,colorSettings:[{value:r,onChange:function(e){return n({linksColor:e})},label:sr("Color")}]})},pr=wp.components,dr=pr.PanelBody,hr=pr.ToggleControl,mr=wp.i18n.__,yr=function(e){var t=e.attributes,n=e.setAttributes,r=t.squareImages,o=t.truncateTitles;return wp.element.createElement(dr,{title:mr("Options"),initialOpen:!1},wp.element.createElement(hr,{label:mr("Square Images"),help:mr("Product images in your embed will be cropped square."),checked:r,onChange:function(){return n({squareImages:!r})}}),wp.element.createElement(hr,{label:mr("Truncate Titles"),help:mr("Truncate product titles to improve uniformity."),checked:o,onChange:function(){return n({truncateTitles:!o})}}))},br=wp.components,gr=br.PanelBody,vr=br.ToggleControl,wr=wp.i18n.__,Or=function(e){var t=e.attributes,n=e.setAttributes,r=t.showCategories,o=t.showPagination,i=t.showSearch;return wp.element.createElement(gr,{title:wr("Display"),initialOpen:!1},wp.element.createElement(vr,{label:wr("Show Categories"),checked:r,onChange:function(){return n({showCategories:!r})}}),wp.element.createElement(vr,{label:wr("Show Search"),checked:i,onChange:function(){return n({showSearch:!i})}}),wp.element.createElement(vr,{label:wr("Show Pagination"),checked:o,onChange:function(){return n({showPagination:!o})}}),wp.element.createElement(ce,{attributes:t,setAttributes:n}))};function Er(){return(Er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Cr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var kr=(wp.blockEditor||wp.editor).InspectorControls,jr=wp.data.withDispatch,Sr=wp.element.Fragment;var Pr=jr((function(e){return{openGeneralSidebar:e("core/edit-post").openGeneralSidebar}}))((function(e){var t=e.openGeneralSidebar,n=Cr(e,["openGeneralSidebar"]);return wp.element.createElement(Sr,null,wp.element.createElement(j,Er({},n,{openGeneralSidebar:t,isPreview:!0})),wp.element.createElement(kr,null,wp.element.createElement(lr,n),wp.element.createElement(K,n),wp.element.createElement(Or,n),wp.element.createElement(yr,n),wp.element.createElement(Y,n),wp.element.createElement(fr,n),wp.element.createElement(oe,n)))}));function xr(){return(xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _r=r.primary,Ar=wp.components,Tr=Ar.G,Rr=Ar.Path,zr=Ar.Rect,Dr=Ar.SVG,Br=wp.i18n.__,qr={name:"".concat("selz","/store"),settings:{title:l.selz.store,description:Br("Embed your whole store."),category:"".concat("selz","-ecommerce"),icon:wp.element.createElement(Dr,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(Tr,{fill:"none",fillRule:"evenodd",transform:"translate(2 2)"},wp.element.createElement(Tr,{transform:"translate(11 11)"},wp.element.createElement(zr,{width:"8",height:"8",x:".5",y:".5",stroke:"#DBE3E8",rx:"1"}),wp.element.createElement(Rr,{fill:"#DBE3E8",fillOpacity:".5",fillRule:"nonzero",d:"M1 0h7a1 1 0 0 1 1 1v4H0V1a1 1 0 0 1 1-1z"}),wp.element.createElement(zr,{width:"2",height:"1",x:"2",y:"6",fill:_r,fillRule:"nonzero",rx:".5"}),wp.element.createElement(zr,{width:"2",height:"1",x:"5",y:"6",fill:_r,fillRule:"nonzero",rx:".5"})),wp.element.createElement(Tr,{transform:"translate(0 11)"},wp.element.createElement(zr,{width:"8",height:"8",x:".5",y:".5",stroke:"#DBE3E8",rx:"1"}),wp.element.createElement(Rr,{fill:"#DBE3E8",fillOpacity:".5",fillRule:"nonzero",d:"M1 0h7a1 1 0 0 1 1 1v4H0V1a1 1 0 0 1 1-1z"}),wp.element.createElement(zr,{width:"2",height:"1",x:"2",y:"6",fill:_r,fillRule:"nonzero",rx:".5"}),wp.element.createElement(zr,{width:"2",height:"1",x:"5",y:"6",fill:_r,fillRule:"nonzero",rx:".5"})),wp.element.createElement(Tr,{transform:"translate(11)"},wp.element.createElement(zr,{width:"8",height:"8",x:".5",y:".5",stroke:"#DBE3E8",rx:"1"}),wp.element.createElement(Rr,{fill:"#DBE3E8",fillOpacity:".5",fillRule:"nonzero",d:"M1 0h7a1 1 0 0 1 1 1v4H0V1a1 1 0 0 1 1-1z"}),wp.element.createElement(zr,{width:"2",height:"1",x:"2",y:"6",fill:_r,fillRule:"nonzero",rx:".5"}),wp.element.createElement(zr,{width:"2",height:"1",x:"5",y:"6",fill:_r,fillRule:"nonzero",rx:".5"})),wp.element.createElement(zr,{width:"8",height:"8",x:".5",y:".5",stroke:"#DBE3E8",rx:"1"}),wp.element.createElement(Rr,{fill:"#DBE3E8",fillOpacity:".5",fillRule:"nonzero",d:"M1 0h7a1 1 0 0 1 1 1v4H0V1a1 1 0 0 1 1-1z"}),wp.element.createElement(zr,{width:"2",height:"1",x:"2",y:"6",fill:_r,fillRule:"nonzero",rx:".5"}),wp.element.createElement(zr,{width:"2",height:"1",x:"5",y:"6",fill:_r,fillRule:"nonzero",rx:".5"}))),attributes:Nt,edit:Pr,save:function(e){return wp.element.createElement(j,e)},deprecated:[{attributes:Nt,save:function(e){return wp.element.createElement(j,xr({},e,{deprecated:!0}))}}]}},Ir=c[0],Nr=Ir.label,Fr=Ir.text,Lr=Ir.value,Wr=Fr||Nr,Gr=r.primary,Mr=r.white,Ur={_text:{type:"string",default:Wr},_width:{type:"number",default:320},action:{type:"string",default:Lr},buttonBackgroundColor:{type:"string",default:Gr},buttonTextColor:{type:"string",default:Mr},checkoutBackgroundColor:{type:"string",default:Gr},checkoutTextColor:{type:"string",default:Mr},currentPage:{type:"number"},description:{type:"boolean",default:!0},error:{type:"object"},fluidWidth:{type:"boolean",default:!1},hasMore:{type:"boolean"},isLoading:{type:"boolean",default:!0},logos:{type:"boolean",default:!1},modal:{type:"boolean",default:!0},pages:{type:"object"},products:{type:"array"},query:{type:"string",default:""},request:{type:"object"},showCart:{type:"boolean",default:!1},text:{type:"string",default:Wr},textWasSet:{type:"boolean",default:!1},type:{type:"string",default:"widget"},url:{type:"string"},useDefaultText:{type:"boolean",default:!1},width:{type:"string",default:320}};function Vr(){return(Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Hr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Jr=(wp.blockEditor||wp.editor).InspectorControls,Kr=wp.data.withDispatch,Qr=wp.element.Fragment;var Zr=Kr((function(e){return{openGeneralSidebar:e("core/edit-post").openGeneralSidebar}}))((function(e){var t=e.openGeneralSidebar,n=Hr(e,["openGeneralSidebar"]);return wp.element.createElement(Qr,null,wp.element.createElement(j,Vr({},n,{openGeneralSidebar:t,isPreview:!0})),wp.element.createElement(Jr,null,wp.element.createElement($e,n),wp.element.createElement(K,n),wp.element.createElement(st,n),wp.element.createElement(pe,n),wp.element.createElement(Y,n),wp.element.createElement(oe,n)))}));function $r(){return($r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function to(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var no=wp.components,ro=no.G,oo=no.Path,io=no.Rect,ao=no.SVG,co=wp.blocks,lo=co.createBlock,uo=co.getBlockAttributes,so=wp.i18n.__,fo={name:"".concat("selz","/widget"),settings:{title:l.selz.widget,description:so("Feature a store item by displaying a preview with a call to action."),category:"".concat("selz","-ecommerce"),icon:wp.element.createElement(ao,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(ro,{fill:"none",fillRule:"evenodd",transform:"translate(2 2)"},wp.element.createElement(io,{width:"19",height:"19",x:".5",y:".5",stroke:"#DBE3E8",rx:"2"}),wp.element.createElement(oo,{fill:"#DBE3E8",fillOpacity:".5",fillRule:"nonzero",d:"M2 0h16a2 2 0 0 1 2 2v5H0V2a2 2 0 0 1 2-2z"}),wp.element.createElement(ro,{fillRule:"nonzero",transform:"translate(3 12)"},wp.element.createElement(io,{width:"14",height:"5",fill:r.primary,rx:"1"}),wp.element.createElement(io,{width:"5.6",height:"1",x:"1.4",y:"2",fill:"#FFF",rx:".5"}),wp.element.createElement(io,{width:"4",height:"1",x:"8.6",y:"2",fill:"#FFF",rx:".5"})),wp.element.createElement(ro,{fill:"#DBE3E8",fillRule:"nonzero",transform:"translate(3 9)"},wp.element.createElement(io,{width:"3",height:"1",rx:".5"}),wp.element.createElement(io,{width:"2",height:"1",x:"4",rx:".5"}),wp.element.createElement(io,{width:"3",height:"1",x:"7",rx:".5"}),wp.element.createElement(io,{width:"3",height:"1",x:"11",rx:".5"})))),attributes:Ur,transforms:{to:[{type:"block",blocks:["".concat("selz","/button")],transform:function(e){e.description;var t=to(e,["description"]),n=uo("".concat("selz","/button")),r=n.autoWidth,o=n.type,i=n.width;return lo("".concat("selz","/button"),Yr(Yr({},t),{},{autoWidth:r,type:o,width:i}))}}]},edit:Zr,save:function(e){return wp.element.createElement(j,e)},deprecated:[{attributes:Ur,save:function(e){return wp.element.createElement(j,$r({},e,{deprecated:!0}))}}]}},po=l.selz,ho=po.connectAccount,mo=po.connectAccountNotice,yo=wp.blocks.registerBlockType,bo=wp.data.dispatch,go=wp.url.addQueryArgs;window["".concat("selz","_globals")].store?[At,qr,fo].forEach((function(e){var t=e.name,n=e.settings;yo(t,n)})):bo("core/notices").createInfoNotice(mo,{actions:[{label:ho,url:go("admin-post.php",{action:"connect_".concat("selz")})}]})}]);